<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discussion Room - C-meet</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <a href="dashboard.html" style="text-decoration: none; color: inherit;">
                    <h2>C-meet</h2>
                </a>
            </div>
            <div class="nav-menu">
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <button class="btn btn-logout" id="logoutBtn">Logout</button>
            </div>
        </div>
    </nav>

    <div class="room-container">
        <!-- Room Sidebar -->
        <div class="room-sidebar">
            <div class="room-info">
                <img id="roomImage" src="https://via.placeholder.com/300x150" alt="Room">
                <h2 id="roomName">Loading...</h2>
                <p id="roomDescription">Loading room description...</p>
                <span class="room-category" id="roomCategory">Category</span>
            </div>

            <div class="room-members">
                <h3>Members (<span id="memberCount">0</span>)</h3>
                <div id="memberList">
                    <!-- Members will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area">
            <div class="chat-header">
                <h3>Discussion</h3>
                <button class="btn btn-secondary" id="leaveRoomBtn">Leave Room</button>
            </div>

            <div class="messages-container" id="messagesContainer">
                <!-- Messages will be loaded here -->
            </div>

            <!-- Typing Indicator -->
            <div class="typing-indicator hidden" id="typingIndicator">
                <span></span> is typing...
            </div>

            <div class="message-input-container">
                <button class="btn-icon" id="emojiPickerBtn" title="Add emoji">
                    <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
                        <line x1="9" y1="9" x2="9.01" y2="9"/>
                        <line x1="15" y1="9" x2="15.01" y2="9"/>
                    </svg>
                </button>
                <button class="btn-icon" id="imageUploadBtn" title="Upload image">
                    <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <path d="M21 15l-5-5L5 21"/>
                    </svg>
                </button>
                <button class="btn-icon" id="fileUploadBtn" title="Upload file">
                    <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"/>
                        <polyline points="13 2 13 9 20 9"/>
                    </svg>
                </button>
                <input type="file" id="chatImageUpload" accept="image/*" style="display: none;">
                <input type="file" id="chatFileUpload" style="display: none;">
                <input type="text" id="messageInput" placeholder="Type your message..." class="message-input">
                <button class="btn btn-primary" id="sendMessageBtn">Send</button>
            </div>

            <!-- Emoji Picker -->
            <div class="emoji-picker hidden" id="emojiPicker">
                <div class="emoji-grid">
                    😀😃😄😁😆😅🤣😂🙂🙃😉😊😇🥰😍🤩😘<br>
                    😗😚😙😋😛😜🤪😝🤑🤗🤭🤫🤔🤐🤨😐😑<br>
                    😶😏😒🙄😬🤥😌😔😪🤤😴😷🤒🤕🤢🤮🤧<br>
                    🥵🥶🥴😵🤯🤠🥳😎🤓🧐😕😟🙁☹️😮😯😲<br>
                    😳🥺😦😧😨😰😥😢😭😱😖😣😞😓😩😫🥱<br>
                    😤😡😠🤬😈👿💀☠️💩🤡👋🤚🖐️✋🖖👌🤏<br>
                    ✌️🤞🤟🤘🤙👈👉👆🖕👇☝️👍👎✊👊🤛🤜<br>
                    👏🙌👐🤲🤝🙏✍️💅🤳💪🦾🦿❤️🧡💛💚💙<br>
                    💜🖤🤍🤎💔❣️💕💞💓💗💖💘💝🔥✨💫⭐<br>
                    🌟💯💢💥💤💨🕊️🦋🐝🐞🦗🕷️👀👁️🧠🦴👅<br>
                    👄💋👣🏠🏡🏢🏣🏤🏥🏦🏨🏩
                </div>
            </div>

            <!-- Image Preview -->
            <div class="image-preview hidden" id="imagePreview">
                <img id="previewImage" src="" alt="Preview">
                <button class="btn-close-preview" id="closePreview">&times;</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <script src="js/config.js"></script>
    <script src="js/features.js"></script>
    <script src="js/room.js"></script>
    <script src="js/imgur.js"></script>
</body>
</html>
